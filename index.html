<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ­ YumYum Park | TasteLink</title>
<style>
body {
  margin:0; font-family:'Arial',sans-serif; background:#fdf6f0; color:#333;
}
h1,h2,h3 { text-align:center; color:#ff6f61; margin:5px; }
button { cursor:pointer; border:none; border-radius:8px; padding:6px 12px; margin:2px; background:#ff6f61; color:white; transition:0.2s; }
button:hover { background:#ff4d4d; transform:scale(1.05); }

#welcome-screen,#login-screen,#park-screen { display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; gap:10px; }
#login-screen,#park-screen { display:none; }
#avatar-preview,#player-avatar { width:120px; height:120px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:60px; background:#ffe0f0; transition:0.3s; }
#avatar-options, .custom-btn { display:flex; gap:5px; flex-wrap:wrap; justify-content:center; }

#park-screen { max-width:600px; margin:0 auto; padding:20px; }
#player-info { display:flex; align-items:center; gap:10px; margin-bottom:20px; }
#player-name-display { font-weight:bold; font-size:20px; }

.restaurant, #weekly-vote, #quest-reward, #community { background:#fff; border-radius:12px; padding:10px; margin-bottom:15px; box-shadow:0 2px 8px rgba(0,0,0,0.15); }
.menu-item { display:flex; justify-content:space-between; align-items:center; margin:5px 0; font-size:16px; }
#community-input { display:flex; gap:5px; margin-top:10px; }
#community-input input { flex:1; padding:5px; border-radius:6px; border:1px solid #ff6f61; }

.reward-item { display:flex; justify-content:space-between; align-items:center; margin:5px 0; }
footer { text-align:center; padding:10px; background:#333; color:white; }

/* Animation */
@keyframes pop { 0%{transform:scale(0);} 50%{transform:scale(1.3);} 100%{transform:scale(1);} }
.reward-item button { animation:pop 0.5s; }
</style>
</head>
<body>

<!-- Welcome -->
<div id="welcome-screen">
  <h1>à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸ªà¸¹à¹ˆ YumYum Park! ğŸ­</h1>
  <button onclick="enterLogin()">à¹€à¸£à¸´à¹ˆà¸¡à¸à¸²à¸£à¸œà¸ˆà¸à¸ à¸±à¸¢!</button>
</div>

<!-- Login -->
<div id="login-screen">
  <h2>à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸±à¸§à¸¥à¸°à¸„à¸£</h2>
  <input type="text" id="player-name" placeholder="à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™..." maxlength="12">
  <div id="avatar-preview">ğŸ˜€</div>
  <div id="avatar-options">
    <button onclick="selectAvatar('ğŸ˜€')">ğŸ˜€</button>
    <button onclick="selectAvatar('ğŸ˜')">ğŸ˜</button>
    <button onclick="selectAvatar('ğŸ§‘â€ğŸ³')">ğŸ§‘â€ğŸ³</button>
  </div>
  <div id="avatar-custom">
    <button class="custom-btn" onclick="changeHat()">ğŸ© à¸«à¸¡à¸§à¸</button>
    <button class="custom-btn" onclick="changeGlasses()">ğŸ•¶ï¸ à¹à¸§à¹ˆà¸™</button>
    <button class="custom-btn" onclick="changeHair()">ğŸ’‡â€â™‚ï¸ à¸œà¸¡</button>
  </div>
  <button onclick="startAdventure()">à¹€à¸‚à¹‰à¸²à¸ªà¸§à¸™ YumYum Park!</button>
</div>

<!-- Park -->
<div id="park-screen">
  <div id="player-info">
    <div id="player-avatar">ğŸ˜€</div>
    <div id="player-name-display">à¸™à¸±à¸à¸œà¸ˆà¸à¸ à¸±à¸¢</div>
  </div>

  <div id="restaurants"><h3>à¸£à¹‰à¸²à¸™à¸­à¸²à¸«à¸²à¸£ ğŸ´</h3></div>

  <div id="weekly-vote">
    <h3>à¹‚à¸«à¸§à¸•à¸£à¹‰à¸²à¸™à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸«à¸™à¹‰à¸² ğŸ†</h3>
    <div id="vote-restaurants"></div>
    <div id="vote-result" style="margin-top:5px;"></div>
  </div>

  <div id="quest-reward">
    <h3>à¹à¸•à¹‰à¸¡ & à¸£à¸²à¸‡à¸§à¸±à¸¥</h3>
    <div id="quest-info">à¸„à¸¸à¸“à¸¡à¸µ 0 à¹à¸•à¹‰à¸¡</div>
    <div id="reward-shop"></div>
  </div>

  <div id="community">
    <h3>à¸Šà¸¸à¸¡à¸Šà¸™ ğŸ“</h3>
    <div id="posts"></div>
    <div id="community-input">
      <input type="text" id="post-text" placeholder="à¸à¸´à¸¡à¸à¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡...">
      <button onclick="addPost()">à¹‚à¸à¸ªà¸•à¹Œ</button>
    </div>
  </div>
</div>

<footer>Â© 2025 YumYum Park</footer>

<script>
// Avatar
let selectedAvatar='ğŸ˜€', hat='', glasses='', hair='';
function selectAvatar(emoji){ selectedAvatar=emoji; updateAvatar(); }
function changeHat(){ hat=hat?'':'ğŸ©'; updateAvatar(); }
function changeGlasses(){ glasses=glasses?'':'ğŸ•¶ï¸'; updateAvatar(); }
function changeHair(){ hair=hair?'':'ğŸ’‡â€â™‚ï¸'; updateAvatar(); }
function updateAvatar(){
  let display=selectedAvatar+(hat?hat:'')+(glasses?glasses:'')+(hair?hair:'');
  document.getElementById('avatar-preview').textContent=display;
  document.getElementById('player-avatar').textContent=display;
}

// Welcome/Login
function enterLogin(){ document.getElementById('welcome-screen').style.display='none'; document.getElementById('login-screen').style.display='flex'; }
function startAdventure(){
  const name=document.getElementById('player-name').value||'à¸™à¸±à¸à¸œà¸ˆà¸à¸ à¸±à¸¢';
  localStorage.setItem('playerName',name);
  localStorage.setItem('playerAvatar',selectedAvatar);
  document.getElementById('player-name-display').textContent=name;
  document.getElementById('login-screen').style.display='none';
  document.getElementById('park-screen').style.display='block';
  renderRestaurants(); renderVoteOptions(); renderRewards(); renderPosts();
}

// Restaurants
const restaurantData=[
  {name:'à¸£à¹‰à¸²à¸™ A',menu:[{name:'ğŸ³ à¸‚à¹‰à¸²à¸§à¹„à¸‚à¹ˆà¹€à¸ˆà¸µà¸¢à¸§',stars:0},{name:'ğŸ¥— à¸ªà¸¥à¸±à¸”',stars:0}]},
  {name:'à¸£à¹‰à¸²à¸™ B',menu:[{name:'ğŸ• à¸à¸´à¸‹à¸‹à¹ˆà¸²',stars:0},{name:'ğŸ” à¹€à¸šà¸­à¸£à¹Œà¹€à¸à¸­à¸£à¹Œ',stars:0}]},
  {name:'à¸£à¹‰à¸²à¸™ C',menu:[{name:'ğŸ£ à¸‹à¸¹à¸Šà¸´',stars:0},{name:'ğŸœ à¸£à¸²à¹€à¸¡à¸‡',stars:0}]}
];
function renderRestaurants(){
  const container=document.getElementById('restaurants'); container.innerHTML='<h3>à¸£à¹‰à¸²à¸™à¸­à¸²à¸«à¸²à¸£ ğŸ´</h3>';
  restaurantData.forEach((r,i)=>{
    const div=document.createElement('div'); div.className='restaurant';
    let html=`<strong>${r.name}</strong>`;
    r.menu.forEach((m,j)=>{ html+=`<div class="menu-item">${m.name} â­${m.stars} <button onclick="addStar(${i},${j})">à¸£à¸µà¸§à¸´à¸§ +1</button></div>`; });
    div.innerHTML=html; container.appendChild(div);
  });
}
function addStar(ri,mi){ restaurantData[ri].menu[mi].stars+=1; renderRestaurants(); updatePoints(10); }

// Vote once
let voted=false;
function renderVoteOptions(){
  const voteDiv=document.getElementById('vote-restaurants'); voteDiv.innerHTML='';
  restaurantData.forEach((r,i)=>{ const btn=document.createElement('button'); btn.textContent=r.name; btn.onclick=()=>voteRestaurant(i); voteDiv.appendChild(btn); });
}
function voteRestaurant(index){
  if(voted){ alert('à¸„à¸¸à¸“à¹‚à¸«à¸§à¸•à¹„à¸”à¹‰à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§à¸•à¹ˆà¸­à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™!'); return; }
  voted=true; updatePoints(10); document.getElementById('vote-result').textContent=`à¸„à¸¸à¸“à¹‚à¸«à¸§à¸•à¸£à¹‰à¸²à¸™ ${restaurantData[index].name} à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢! +10 à¹à¸•à¹‰à¸¡`;
}

// Points & Rewards
let questPoints=0;
function updatePoints(points){ questPoints+=points; document.getElementById('quest-info').textContent=`à¸„à¸¸à¸“à¸¡à¸µ ${questPoints} à¹à¸•à¹‰à¸¡`; renderRewards(); }
const rewardItems=[{name:'à¹€à¸ªà¸·à¹‰à¸­à¸ªà¸µà¹à¸”à¸‡',cost:30},{name:'à¸«à¸¡à¸§à¸à¹à¸Ÿà¸™à¸‹à¸µ',cost:50},{name:'à¸—à¸£à¸‡à¸œà¸¡à¸à¸´à¹€à¸¨à¸©',cost:40},{name:'à¸à¸£à¸­à¸šà¸—à¸­à¸‡',cost:60}];
function renderRewards(){
  const shop=document.getElementById('reward-shop'); shop.innerHTML='<h4>à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹à¸¥à¸à¸‚à¸­à¸‡à¸£à¸²à¸‡à¸§à¸±à¸¥</h4>';
  rewardItems.forEach(it=>{ shop.innerHTML+=`<div class="reward-item">${it.name} - ${it.cost} à¹à¸•à¹‰à¸¡ <button onclick="buyReward('${it.name}',${it.cost})">à¹à¸¥à¸</button></div>`; });
}
function buyReward(name,cost){ if(questPoints>=cost){ questPoints-=cost; alert(`à¸„à¸¸à¸“à¹à¸¥à¸ ${name} à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!`); updatePoints(0); }else alert('à¹à¸•à¹‰à¸¡à¹„à¸¡à¹ˆà¹€à¸à¸µà¸¢à¸‡à¸à¸­!'); }

// Community
const posts=[];
function addPost(){ const text=document.getElementById('post-text').value; if(!text) return; posts.unshift({avatar:selectedAvatar,content:text}); renderPosts(); document.getElementById('post-text').value=''; updatePoints(10); }
function renderPosts(){ const container=document.getElementById('posts'); container.innerHTML=''; posts.forEach(p=>{ const div=document.createElement('div'); div.textContent=`${p.avatar}: ${p.content}`; container.appendChild(div); }); }

// Load player
window.onload = ()=>{
  const name=localStorage.getItem('playerName')||'à¸™à¸±à¸à¸œà¸ˆà¸à¸ à¸±à¸¢';
  const avatar=localStorage.getItem('playerAvatar')||'ğŸ˜€';
  document.getElementById('player-name-display').textContent=name;
  selectedAvatar=avatar; updateAvatar();
};
</script>

</body>
</html>
