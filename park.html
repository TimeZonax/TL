<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üç≠ YumYum Park - TasteLink Ultimate</title>
<style>
  body { margin:0; font-family:'Comic Sans MS', sans-serif; background: linear-gradient(to bottom, #a0e1ff, #ffffff); }
  h1,h2,h3 { text-align:center; color:#ff6f61; text-shadow:2px 2px #ffe066; margin:5px; }

  #park-screen { padding:20px; background-image:url('https://images.unsplash.com/photo-1529973565457-41a1d2e29f3b?auto=format&fit=crop&w=1350&q=80'); background-size:cover; min-height:100vh; }

  #player-info { display:flex; align-items:center; margin-bottom:20px; }
  #player-avatar { width:80px; height:80px; border-radius:50%; border:3px solid #ff6f61; background-size:cover; background-position:center; margin-right:10px; position:relative; transition: transform 0.3s ease; }
  #player-name { font-size:20px; font-weight:bold; color:#fff; text-shadow:1px 1px 3px #000; }

  #avatar-custom { display:flex; flex-wrap:wrap; margin-top:10px; }
  .custom-btn { margin:2px; padding:4px 6px; font-size:12px; border:none; border-radius:6px; cursor:pointer; background:#ff6f61; color:white; }
  .custom-btn:hover{ background:#ff4d4d; }

  .restaurant { background:rgba(255,255,255,0.9); border-radius:12px; padding:10px; margin-bottom:15px; box-shadow:0 3px 10px rgba(0,0,0,0.2); }
  .restaurant h3 { margin:5px 0; }
  .menu-item { display:flex; align-items:center; justify-content:space-between; margin:5px 0; }
  .menu-item img { width:50px; height:50px; border-radius:8px; margin-right:10px; }
  .menu-item span { flex:1; }
  .menu-status { font-size:12px; font-weight:bold; }

  #community { margin-top:20px; background:rgba(255,255,255,0.95); border-radius:12px; padding:10px; box-shadow:0 3px 10px rgba(0,0,0,0.2); max-height:300px; overflow-y:auto; }
  .post { display:flex; align-items:center; margin-bottom:10px; }
  .post-avatar { width:40px; height:40px; border-radius:50%; background-size:cover; margin-right:8px; border:2px solid #ff6f61; position:relative; }
  .post-content { background:#ffe0f0; padding:5px 10px; border-radius:8px; flex:1; }
  #community-input { display:flex; margin-top:10px; }
  #community-input input { flex:1; padding:5px; font-size:14px; border-radius:8px; border:1px solid #ff6f61; }
  #community-input button { padding:5px 10px; margin-left:5px; background:#ff6f61; color:white; border:none; border-radius:6px; cursor:pointer; }

  #quest-reward { margin-top:20px; background:rgba(255,255,255,0.95); border-radius:12px; padding:10px; box-shadow:0 3px 10px rgba(0,0,0,0.2); }
  .reward { margin:5px 0; padding:5px; background:#fff3b0; border-radius:6px; }

  #ranking { margin-top:20px; background:rgba(255,255,255,0.95); border-radius:12px; padding:10px; box-shadow:0 3px 10px rgba(0,0,0,0.2); }
  #ranking h3{ margin:5px; }

  #weekly-vote { margin-top:20px; background:rgba(255,255,255,0.95); border-radius:12px; padding:10px; box-shadow:0 3px 10px rgba(0,0,0,0.2); }
  #vote-restaurants button { margin:2px; }

  footer { text-align:center; padding:10px; background-color:#333; color:#fff; position:fixed; bottom:0; width:100%; }

  .confetti { position:fixed; width:10px; height:10px; background:red; animation:fall 1s linear forwards; z-index:9999; }
  @keyframes fall { 0%{transform:translateY(0) rotate(0deg);} 100%{transform:translateY(600px) rotate(360deg);} }
</style>
</head>
<body>

<div id="park-screen">
  <div id="player-info">
    <div id="player-avatar"></div>
    <div>
      <div id="player-name"></div>
      <div id="avatar-custom">
        <button class="custom-btn" onclick="changeHat()">‡∏´‡∏°‡∏ß‡∏Åüé©</button>
        <button class="custom-btn" onclick="changeShirt()">‡πÄ‡∏™‡∏∑‡πâ‡∏≠üëï</button>
        <button class="custom-btn" onclick="changeHair()">‡∏ó‡∏£‡∏á‡∏ú‡∏°üíá‚Äç‚ôÇÔ∏è</button>
        <button class="custom-btn" onclick="changeFace()">‡∏™‡∏µ‡∏´‡∏ô‡πâ‡∏≤üòÉ</button>
        <button class="custom-btn" onclick="changeFrame()">‡∏Å‡∏£‡∏≠‡∏öüì∏</button>
      </div>
    </div>
  </div>

  <div id="restaurants"></div>

  <div id="ranking">
    <h3>Top Menu ‡∏Ç‡∏≠‡∏á YumYum Park</h3>
    <ul id="top-menu-list"></ul>
  </div>

  <div id="weekly-vote">
    <h3>‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏´‡∏ô‡πâ‡∏≤ üç¥</h3>
    <div id="vote-restaurants"></div>
    <div id="vote-result"></div>
  </div>

  <div id="quest-reward">
    <h3>‡πÄ‡∏Ñ‡∏ß‡∏™‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô / ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>
    <div class="reward" id="quest-info">‡∏ó‡∏≥‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°!</div>
    <button class="custom-btn" onclick="completeQuest('‡∏£‡∏µ‡∏ß‡∏¥‡∏ß')">‡∏ó‡∏≥‡∏£‡∏µ‡∏ß‡∏¥‡∏ß +10 ‡πÅ‡∏ï‡πâ‡∏°</button>
    <button class="custom-btn" onclick="completeQuest('‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô')">‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô +10 ‡πÅ‡∏ï‡πâ‡∏°</button>
    <button class="custom-btn" onclick="completeQuest('‡πÇ‡∏û‡∏™‡∏ï‡πå')">‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÉ‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô +10 ‡πÅ‡∏ï‡πâ‡∏°</button>
    <button class="custom-btn" onclick="completeQuest('‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå')">‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á Avatar +10 ‡πÅ‡∏ï‡πâ‡∏°</button>
    <div id="reward-shop"></div>
  </div>

  <div id="community">
    <h3>‡∏ä‡∏∏‡∏°‡∏ä‡∏ô YumYum Park</h3>
    <div id="posts"></div>
    <div id="community-input">
      <input type="text" id="post-text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏µ‡∏ß‡∏¥‡∏ß...">
      <button onclick="addPost()">‡πÇ‡∏û‡∏™‡∏ï‡πå</button>
    </div>
  </div>
</div>

<footer>¬© 2025 TasteLink - YumYum Network</footer>

<script>
let playerName = localStorage.getItem('playerName') || '‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢';
let playerAvatar = localStorage.getItem('playerAvatar') || 'https://i.ibb.co/Y2GfKz6/avatar1.png';
document.getElementById('player-name').textContent = playerName;
const playerAvatarDiv = document.getElementById('player-avatar');
playerAvatarDiv.style.backgroundImage = `url('${playerAvatar}')`;

let avatarState={hat:'none',shirt:'none',hair:'default',face:'normal',frame:'none'};
function updateAvatar(){ 
  let bg=`url('${playerAvatar}')`;
  if(avatarState.hat!=='none') bg+=` url('${avatarState.hat}')`;
  if(avatarState.shirt!=='none') bg+=` url('${avatarState.shirt}')`;
  playerAvatarDiv.style.backgroundImage=bg;
  playerAvatarDiv.style.transform='scale(1.1)';
  setTimeout(()=>{playerAvatarDiv.style.transform='scale(1)';},300);
}
function changeHat(){ avatarState.hat='https://i.ibb.co/ZYW3VTp/hat.png'; updateAvatar(); completeQuest('‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå'); }
function changeShirt(){ avatarState.shirt='https://i.ibb.co/4pDND7d/shirt.png'; updateAvatar(); completeQuest('‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå'); }
function changeHair(){ avatarState.hair='short'; alert('‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏£‡∏á‡∏ú‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!'); completeQuest('‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå'); }
function changeFace(){ avatarState.face='happy'; alert('‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!'); completeQuest('‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå'); }
function changeFrame(){ avatarState.frame='gold'; alert('‡∏Å‡∏£‡∏≠‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß!'); completeQuest('‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå'); }

let restaurantData=[
{name:'‡∏£‡πâ‡∏≤‡∏ô A',status:'available',menu:[{name:'‡∏Ç‡πâ‡∏≤‡∏ß‡πÑ‡∏Ç‡πà‡πÄ‡∏à‡∏µ‡∏¢‡∏ß',img:'https://i.ibb.co/3cYkMzH/food1.jpg',stars:0},{name:'‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ',img:'https://i.ibb.co/3pQ7Cz1/food2.jpg',stars:0},{name:'‡∏™‡∏•‡∏±‡∏î',img:'https://i.ibb.co/4W1HJ5F/food3.jpg',stars:0}]},
{name:'‡∏£‡πâ‡∏≤‡∏ô B',status:'busy',menu:[{name:'‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤',img:'https://i.ibb.co/2jqkL9X/food4.jpg',stars:0},{name:'‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå',img:'https://i.ibb.co/Y2f9QF0/food5.jpg',stars:0},{name:'‡πÄ‡∏ü‡∏£‡∏ô‡∏ä‡πå‡∏ü‡∏£‡∏≤‡∏¢',img:'https://i.ibb.co/m0K9QWJ/food6.jpg',stars:0}]},
{name:'‡∏£‡πâ‡∏≤‡∏ô C',status:'available',menu:[{name:'‡∏ã‡∏π‡∏ä‡∏¥',img:'https://i.ibb.co/wJH8Z1M/food7.jpg',stars:0},{name:'‡∏£‡∏≤‡πÄ‡∏°‡∏á',img:'https://i.ibb.co/m0K9QWJ/food6.jpg',stars:0},{name:'‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡∏õ‡∏¥‡πâ‡∏á',img:'https://i.ibb.co/3pQ7Cz1/food2.jpg',stars:0}]}
];

function renderRestaurants(){
  const container=document.getElementById('restaurants');
  container.innerHTML='';
  restaurantData.forEach((r,i)=>{
    const div=document.createElement('div');
    div.className='restaurant';
    div.innerHTML=`<h3>${r.name} <span class="menu-status">${r.status==='busy'?'‡∏Ñ‡∏¥‡∏ß‡∏¢‡∏≤‡∏ß':'‡∏ß‡πà‡∏≤‡∏á'}</span></h3>`;
    r.menu.forEach((m,j)=>{
      div.innerHTML+=`<div class="menu-item">
        <img src="${m.img}">
        <span>${m.name}</span>
        <span>‚≠ê${m.stars}</span>
        <button onclick="addStar(${i},${j})">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß +1‚≠ê</button>
      </div>`;
    });
    container.appendChild(div);
  });
  renderRanking();
  renderVoteOptions();
}

function addStar(ri,mi){
  restaurantData[ri].menu[mi].stars+=1;
  renderRestaurants();
  completeQuest('‡∏£‡∏µ‡∏ß‡∏¥‡∏ß');
}

function renderRanking(){
  const topMenu=document.getElementById('top-menu-list');
  let allMenus=[];
  restaurantData.forEach(r=>{ r.menu.forEach(m=>{ allMenus.push({name:m.name,stars:m.stars}); }); });
  allMenus.sort((a,b)=>b.stars-a.stars);
  topMenu.innerHTML='';
  allMenus.slice(0,5).forEach((m,i)=>{ topMenu.innerHTML+=`<li>${i+1}. ${m.name} ‚≠ê${m.stars}</li>`; });
}

const posts=[];
function addPost(){
  const text=document.getElementById('post-text').value;
  if(!text) return;
  const post={avatar:playerAvatar, content:text};
  posts.unshift(post);
  renderPosts();
  document.getElementById('post-text').value='';
  completeQuest('‡πÇ‡∏û‡∏™‡∏ï‡πå');
}
function renderPosts(){
  const container=document.getElementById('posts');
  container.innerHTML='';
  posts.forEach(p=>{
    const div=document.createElement('div');
    div.className='post';
    div.innerHTML=`<div class="post-avatar" style="background-image:url('${p.avatar}')"></div>
    <div class="post-content">${p.content}</div>`;
    container.appendChild(div);
  });
}

/* ------------------ ‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ï‡πà‡∏≠‡πÑ‡∏õ ------------------ */
function renderVoteOptions() {
  const voteDiv = document.getElementById('vote-restaurants');
  voteDiv.innerHTML = '';
  restaurantData.forEach((r, i) => {
    const btn = document.createElement('button');
    btn.textContent = r.name;
    btn.className = 'custom-btn';
    btn.onclick = () => voteRestaurant(i);
    voteDiv.appendChild(btn);
  });
}

function voteRestaurant(index) {
  questPoints += 10;
  document.getElementById('vote-result').textContent = `‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô ${restaurantData[index].name} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! +10 ‡πÅ‡∏ï‡πâ‡∏°`;
  completeQuest('‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô');
}

/* ------------------ Quest & Reward ------------------ */
let questPoints=0;
let badges = {‡∏£‡∏µ‡∏ß‡∏¥‡∏ß:false,‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô:false,‡πÇ‡∏û‡∏™‡∏ï‡πå:false,‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå:false};
function completeQuest(type){ 
  if(type==='‡∏£‡∏µ‡∏ß‡∏¥‡∏ß' && !badges.‡∏£‡∏µ‡∏ß‡∏¥‡∏ß){ badges.‡∏£‡∏µ‡∏ß‡∏¥‡∏ß=true; showConfetti(); alert('Badge: Reviewer üèÖ'); }
  if(type==='‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô' && !badges.‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô){ badges.‡πÇ‡∏´‡∏ß‡∏ï‡∏£‡πâ‡∏≤‡∏ô=true; showConfetti(); alert('Badge: Planner üèÖ'); }
  if(type==='‡πÇ‡∏û‡∏™‡∏ï‡πå' && !badges.‡πÇ‡∏û‡∏™‡∏ï‡πå){ badges.‡πÇ‡∏û‡∏™‡∏ï‡πå=true; showConfetti(); alert('Badge: Community üèÖ'); }
  if(type==='‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå' && !badges.‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå){ badges.‡∏≠‡∏ß‡∏≤‡∏ï‡∏≤‡∏£‡πå=true; showConfetti(); alert('Badge: Stylist üèÖ'); }
  questPoints+=10; 
  document.getElementById('quest-info').textContent=`‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${questPoints} ‡πÅ‡∏ï‡πâ‡∏°! ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ!`; 
  renderRewards();
}

function renderRewards(){
  const shop=document.getElementById('reward-shop');
  shop.innerHTML='<h4>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h4>';
  const items=[
    {name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡πÅ‡∏î‡∏á', cost:30},
    {name:'‡∏´‡∏°‡∏ß‡∏Å‡πÅ‡∏ü‡∏ô‡∏ã‡∏µ', cost:50},
    {name:'‡∏ó‡∏£‡∏á‡∏ú‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©', cost:40},
    {name:'‡∏Å‡∏£‡∏≠‡∏ö‡∏ó‡∏≠‡∏á', cost:60}
  ];
  items.forEach((it)=>{
    shop.innerHTML+=`<div class="reward">${it.name} - ${it.cost} ‡πÅ‡∏ï‡πâ‡∏° <button onclick="buyReward('${it.name}',${it.cost})">‡πÅ‡∏•‡∏Å</button></div>`;
  });
}

function buyReward(name,cost){
  if(questPoints>=cost){ questPoints-=cost; alert(`‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡∏Å ${name} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!`); renderRewards(); }
  else alert('‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠!');
}

function showConfetti(){
  for(let i=0;i<30;i++){
    const c=document.createElement('div'); c.className='confetti'; 
    c.style.left=Math.random()*window.innerWidth+'px';
    c.style.background=['#ff4d4d','#ffe066','#6aff6a','#66f0ff','#ff66e0'][Math.floor(Math.random()*5)];
    document.body.appendChild(c);
    setTimeout(()=>{ c.remove(); },1000);
  }
}

renderRestaurants();
</script>

</body>
</html>
